<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>Lab_Automation.devices.multi_stepper API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>Lab_Automation.devices.multi_stepper</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">from typing import Optional, Tuple, Union
import serial
import functools

from .device import ArduinoSerialDevice, check_initialized, check_serial


def check_stepper_num(func):
    @functools.wraps(func)
    def wrapper(self, *args, **kwargs):
        # could be a kwarg or arg
        if &#39;stepper_number&#39; in kwargs:
            stepper_number = kwargs[&#39;stepper_number&#39;]
        else:
            stepper_number = args[0]

        if not self.is_stepper_num_valid(stepper_number):
            return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)
        return func(self, *args, **kwargs)
    return wrapper


class MultiStepper(ArduinoSerialDevice):
    def __init__(
            self,
            name: str, 
            port: str, 
            baudrate: int, 
            timeout: Optional[float] = 1.0, 
            stepper_list: Tuple[int, ...] = (1,),
            move_timeout: float = 30.0):
        
        super().__init__(name, port, baudrate, timeout)
        self._stepper_list = stepper_list
        self._move_timeout = move_timeout # max move timeout for ALL possible motors controlled by arduino

    def initialize(self):
        for stepper in self._stepper_list:
            was_homed, comment = self.home(stepper)
            if not was_homed:
                self._is_initialized = False
                return (was_homed, comment)

        self._is_initialized = True
        return (True, &#34;All stepper motors &#34; + str(self._stepper_list) + &#34; successfully homed and initialized. All current positions set to zero.&#34;)

    def deinitialize(self, reset_init_flag: bool = True):
        for stepper in self._stepper_list:
            was_zeroed, comment = self.move_absolute(stepper, 0.0)
            if not was_zeroed:
                return (was_zeroed, comment)

        if reset_init_flag:
            self._is_initialized = False

        return (True, &#34;All stepper motors &#34; + str(self._stepper_list) + &#34; successfully deinitialized by moving to position zero.&#34;)
    
    @check_serial
    @check_stepper_num
    def home(self, stepper_number: int) -&gt; Tuple[bool, str]:
        # if not self.ser.is_open:    
        #     return (False, &#34;Serial port &#34; + self._port + &#34; is not open. &#34;)
        # if not self.is_stepper_num_valid(stepper_number):
        #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)

        command = &#34;&gt;hm &#34; + str(stepper_number) + &#34;\n&#34;
        self.ser.write(command.encode(&#39;ascii&#39;))
        return self.check_ack_succ(ack_timeout=1, succ_timeout=self._move_timeout)

    @check_serial
    @check_initialized
    @check_stepper_num
    def move_absolute(self, stepper_number: int, position: float) -&gt; Tuple[bool, str]:
        # if not self.ser.is_open:    
        #     return (False, &#34;Serial port &#34; + self._port + &#34; is not open. &#34;)
        # elif not self.is_stepper_num_valid(stepper_number):
        #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)
        # elif not self._is_initialized:
        #     return (False, &#34;Stepper motor &#34; + str(stepper_number) + &#34; is not initialized.&#34;)
        # else:
        # if not self.is_stepper_num_valid(stepper_number):
        #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)

        command = &#34;&gt;mv &#34; + str(stepper_number) + &#34; &#34; + str(position) + &#34;\n&#34;
        self.ser.write(command.encode(&#39;ascii&#39;))
        return self.check_ack_succ(ack_timeout=1, succ_timeout=self._move_timeout)

    @check_serial
    @check_initialized
    @check_stepper_num
    def move_relative(self, stepper_number: int, distance: float) -&gt; Tuple[bool, str]:
        # if not self.ser.is_open:    
        #     return (False, &#34;Serial port &#34; + self._port + &#34; is not open. &#34;)
        # elif not self.is_stepper_num_valid(stepper_number):
        #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)
        # elif not self._is_initialized:
        #     return (False, &#34;Stepper motor &#34; + str(stepper_number) + &#34; is not initialized.&#34;)
        # else:
        # if not self.is_stepper_num_valid(stepper_number):
        #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)

        command = &#34;&gt;mvr &#34; + str(stepper_number) + &#34; &#34; + str(distance) + &#34;\n&#34;
        self.ser.write(command.encode(&#39;ascii&#39;))
        return self.check_ack_succ(ack_timeout=1.0, succ_timeout=self._move_timeout)

    @check_serial
    @check_initialized
    @check_stepper_num
    def position(self, stepper_number: int) -&gt; Tuple[bool, Union[float, str]]:
        # if not self.ser.is_open:    
        #     return (False, &#34;Serial port &#34; + self._port + &#34; is not open. &#34;)
        # elif not self.is_stepper_num_valid(stepper_number):
        #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)
        # elif not self._is_initialized:
        #     return (False, &#34;Stepper motor &#34; + str(stepper_number) + &#34; is not initialized.&#34;)
        # else:
        # if not self.is_stepper_num_valid(stepper_number):
        #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)

        command = &#34;&gt;wm &#34; + str(stepper_number) + &#34;\n&#34;
        self.ser.write(command.encode(&#39;ascii&#39;))
        was_successful, comment = self.check_ack_succ()

        if not was_successful:
            return (was_successful, comment)

        has_position, position_str = super().parse_equal_sign(comment)

        if not has_position:
            return (has_position, &#34;Message from device did not contain motor position.&#34;)
        
        return (True, float(position_str))
 
    def is_stepper_num_valid(self, stepper_number: int) -&gt; bool:
        if stepper_number in self._stepper_list:
            return True
        else:
            return False


# The arduino program is able to check if the passed stepper number is valid or not and return True/False
# Therefore, I initially concluded that there is no need to validate the stepper number argument in the methods here or pass it during construction
# However, suppose there are (1, 2, 3) steppers and we only pass (1,2) to initialize_all, then the MultiStepper object will be flagged as 
# being initialized and it will be possible to send commands to stepper #3. Although the arduino may be able to prevent moving stepper #3 if its not homed
# it is technically possible for the command to be valid from the host&#39;s perspective which in this particular case should not happen even if the arduino will catch it
# Also suppose the arduino doesn&#39;t have a check at it&#39;s level then we will be able to move stepper #3 without properly initializing it
# therefore we should declare during construction which steppers we plan to use with an immutable tuple 
# and still check that a passed stepper_number argument is always in that tuple

# currently the way we determine if the movement completed or not is by waiting for the arduino to send a SUCC confirmation once it reaches its target
# this means that the host side needs to implement a timeout longer than the movement duration, either using a blanket large value or based on the speed, distance, and a safe extra time
# At the moment a blanket timeout value is used based on the known stepper application
# Other better or worse ways would be the following:
# -poll the position of the arduino repeatedly until it matches with the desired target position. 
#   However, if the arduino gets stuck this could infinite loop meaning we need another timeout
#   Additionally if there is small error between target and acceptable position, that needs to be accounted for and just adds more complexity
# -poll whether the arduino is moving or not. Better than polling position but what if arduino never moves or never stops for some reason. 
#   this means we may still need to implement a timeout and also have the arduino spit out error messages for these cases
#
# Regarding the speed of the stepper motor, at the moment it is coded into the Arduino. It can easily be changed to a modifiable parameter set by a serial command
# And then we can control it from here. But at the moment this is not implemented as my current use case for custom stepper motors is purely for positioning purposes only</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="Lab_Automation.devices.multi_stepper.check_stepper_num"><code class="name flex">
<span>def <span class="ident">check_stepper_num</span></span>(<span>func)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def check_stepper_num(func):
    @functools.wraps(func)
    def wrapper(self, *args, **kwargs):
        # could be a kwarg or arg
        if &#39;stepper_number&#39; in kwargs:
            stepper_number = kwargs[&#39;stepper_number&#39;]
        else:
            stepper_number = args[0]

        if not self.is_stepper_num_valid(stepper_number):
            return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)
        return func(self, *args, **kwargs)
    return wrapper</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="Lab_Automation.devices.multi_stepper.MultiStepper"><code class="flex name class">
<span>class <span class="ident">MultiStepper</span></span>
<span>(</span><span>name: str, port: str, baudrate: int, timeout: Optional[float] = 1.0, stepper_list: Tuple[int, ...] = (1,), move_timeout: float = 30.0)</span>
</code></dt>
<dd>
<div class="desc"><p>An arduino serial device that implements the custom ACK/NACK/SUCC/FAIL communication protocol.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class MultiStepper(ArduinoSerialDevice):
    def __init__(
            self,
            name: str, 
            port: str, 
            baudrate: int, 
            timeout: Optional[float] = 1.0, 
            stepper_list: Tuple[int, ...] = (1,),
            move_timeout: float = 30.0):
        
        super().__init__(name, port, baudrate, timeout)
        self._stepper_list = stepper_list
        self._move_timeout = move_timeout # max move timeout for ALL possible motors controlled by arduino

    def initialize(self):
        for stepper in self._stepper_list:
            was_homed, comment = self.home(stepper)
            if not was_homed:
                self._is_initialized = False
                return (was_homed, comment)

        self._is_initialized = True
        return (True, &#34;All stepper motors &#34; + str(self._stepper_list) + &#34; successfully homed and initialized. All current positions set to zero.&#34;)

    def deinitialize(self, reset_init_flag: bool = True):
        for stepper in self._stepper_list:
            was_zeroed, comment = self.move_absolute(stepper, 0.0)
            if not was_zeroed:
                return (was_zeroed, comment)

        if reset_init_flag:
            self._is_initialized = False

        return (True, &#34;All stepper motors &#34; + str(self._stepper_list) + &#34; successfully deinitialized by moving to position zero.&#34;)
    
    @check_serial
    @check_stepper_num
    def home(self, stepper_number: int) -&gt; Tuple[bool, str]:
        # if not self.ser.is_open:    
        #     return (False, &#34;Serial port &#34; + self._port + &#34; is not open. &#34;)
        # if not self.is_stepper_num_valid(stepper_number):
        #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)

        command = &#34;&gt;hm &#34; + str(stepper_number) + &#34;\n&#34;
        self.ser.write(command.encode(&#39;ascii&#39;))
        return self.check_ack_succ(ack_timeout=1, succ_timeout=self._move_timeout)

    @check_serial
    @check_initialized
    @check_stepper_num
    def move_absolute(self, stepper_number: int, position: float) -&gt; Tuple[bool, str]:
        # if not self.ser.is_open:    
        #     return (False, &#34;Serial port &#34; + self._port + &#34; is not open. &#34;)
        # elif not self.is_stepper_num_valid(stepper_number):
        #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)
        # elif not self._is_initialized:
        #     return (False, &#34;Stepper motor &#34; + str(stepper_number) + &#34; is not initialized.&#34;)
        # else:
        # if not self.is_stepper_num_valid(stepper_number):
        #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)

        command = &#34;&gt;mv &#34; + str(stepper_number) + &#34; &#34; + str(position) + &#34;\n&#34;
        self.ser.write(command.encode(&#39;ascii&#39;))
        return self.check_ack_succ(ack_timeout=1, succ_timeout=self._move_timeout)

    @check_serial
    @check_initialized
    @check_stepper_num
    def move_relative(self, stepper_number: int, distance: float) -&gt; Tuple[bool, str]:
        # if not self.ser.is_open:    
        #     return (False, &#34;Serial port &#34; + self._port + &#34; is not open. &#34;)
        # elif not self.is_stepper_num_valid(stepper_number):
        #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)
        # elif not self._is_initialized:
        #     return (False, &#34;Stepper motor &#34; + str(stepper_number) + &#34; is not initialized.&#34;)
        # else:
        # if not self.is_stepper_num_valid(stepper_number):
        #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)

        command = &#34;&gt;mvr &#34; + str(stepper_number) + &#34; &#34; + str(distance) + &#34;\n&#34;
        self.ser.write(command.encode(&#39;ascii&#39;))
        return self.check_ack_succ(ack_timeout=1.0, succ_timeout=self._move_timeout)

    @check_serial
    @check_initialized
    @check_stepper_num
    def position(self, stepper_number: int) -&gt; Tuple[bool, Union[float, str]]:
        # if not self.ser.is_open:    
        #     return (False, &#34;Serial port &#34; + self._port + &#34; is not open. &#34;)
        # elif not self.is_stepper_num_valid(stepper_number):
        #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)
        # elif not self._is_initialized:
        #     return (False, &#34;Stepper motor &#34; + str(stepper_number) + &#34; is not initialized.&#34;)
        # else:
        # if not self.is_stepper_num_valid(stepper_number):
        #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)

        command = &#34;&gt;wm &#34; + str(stepper_number) + &#34;\n&#34;
        self.ser.write(command.encode(&#39;ascii&#39;))
        was_successful, comment = self.check_ack_succ()

        if not was_successful:
            return (was_successful, comment)

        has_position, position_str = super().parse_equal_sign(comment)

        if not has_position:
            return (has_position, &#34;Message from device did not contain motor position.&#34;)
        
        return (True, float(position_str))
 
    def is_stepper_num_valid(self, stepper_number: int) -&gt; bool:
        if stepper_number in self._stepper_list:
            return True
        else:
            return False</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="Lab_Automation.devices.device.ArduinoSerialDevice" href="device.html#Lab_Automation.devices.device.ArduinoSerialDevice">ArduinoSerialDevice</a></li>
<li><a title="Lab_Automation.devices.device.SerialDevice" href="device.html#Lab_Automation.devices.device.SerialDevice">SerialDevice</a></li>
<li><a title="Lab_Automation.devices.device.Device" href="device.html#Lab_Automation.devices.device.Device">Device</a></li>
<li>abc.ABC</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="Lab_Automation.devices.multi_stepper.MultiStepper.home"><code class="name flex">
<span>def <span class="ident">home</span></span>(<span>self, stepper_number: int) ‑> Tuple[bool, str]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@check_serial
@check_stepper_num
def home(self, stepper_number: int) -&gt; Tuple[bool, str]:
    # if not self.ser.is_open:    
    #     return (False, &#34;Serial port &#34; + self._port + &#34; is not open. &#34;)
    # if not self.is_stepper_num_valid(stepper_number):
    #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)

    command = &#34;&gt;hm &#34; + str(stepper_number) + &#34;\n&#34;
    self.ser.write(command.encode(&#39;ascii&#39;))
    return self.check_ack_succ(ack_timeout=1, succ_timeout=self._move_timeout)</code></pre>
</details>
</dd>
<dt id="Lab_Automation.devices.multi_stepper.MultiStepper.is_stepper_num_valid"><code class="name flex">
<span>def <span class="ident">is_stepper_num_valid</span></span>(<span>self, stepper_number: int) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def is_stepper_num_valid(self, stepper_number: int) -&gt; bool:
    if stepper_number in self._stepper_list:
        return True
    else:
        return False</code></pre>
</details>
</dd>
<dt id="Lab_Automation.devices.multi_stepper.MultiStepper.move_absolute"><code class="name flex">
<span>def <span class="ident">move_absolute</span></span>(<span>self, stepper_number: int, position: float) ‑> Tuple[bool, str]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@check_serial
@check_initialized
@check_stepper_num
def move_absolute(self, stepper_number: int, position: float) -&gt; Tuple[bool, str]:
    # if not self.ser.is_open:    
    #     return (False, &#34;Serial port &#34; + self._port + &#34; is not open. &#34;)
    # elif not self.is_stepper_num_valid(stepper_number):
    #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)
    # elif not self._is_initialized:
    #     return (False, &#34;Stepper motor &#34; + str(stepper_number) + &#34; is not initialized.&#34;)
    # else:
    # if not self.is_stepper_num_valid(stepper_number):
    #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)

    command = &#34;&gt;mv &#34; + str(stepper_number) + &#34; &#34; + str(position) + &#34;\n&#34;
    self.ser.write(command.encode(&#39;ascii&#39;))
    return self.check_ack_succ(ack_timeout=1, succ_timeout=self._move_timeout)</code></pre>
</details>
</dd>
<dt id="Lab_Automation.devices.multi_stepper.MultiStepper.move_relative"><code class="name flex">
<span>def <span class="ident">move_relative</span></span>(<span>self, stepper_number: int, distance: float) ‑> Tuple[bool, str]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@check_serial
@check_initialized
@check_stepper_num
def move_relative(self, stepper_number: int, distance: float) -&gt; Tuple[bool, str]:
    # if not self.ser.is_open:    
    #     return (False, &#34;Serial port &#34; + self._port + &#34; is not open. &#34;)
    # elif not self.is_stepper_num_valid(stepper_number):
    #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)
    # elif not self._is_initialized:
    #     return (False, &#34;Stepper motor &#34; + str(stepper_number) + &#34; is not initialized.&#34;)
    # else:
    # if not self.is_stepper_num_valid(stepper_number):
    #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)

    command = &#34;&gt;mvr &#34; + str(stepper_number) + &#34; &#34; + str(distance) + &#34;\n&#34;
    self.ser.write(command.encode(&#39;ascii&#39;))
    return self.check_ack_succ(ack_timeout=1.0, succ_timeout=self._move_timeout)</code></pre>
</details>
</dd>
<dt id="Lab_Automation.devices.multi_stepper.MultiStepper.position"><code class="name flex">
<span>def <span class="ident">position</span></span>(<span>self, stepper_number: int) ‑> Tuple[bool, Union[float, str]]</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@check_serial
@check_initialized
@check_stepper_num
def position(self, stepper_number: int) -&gt; Tuple[bool, Union[float, str]]:
    # if not self.ser.is_open:    
    #     return (False, &#34;Serial port &#34; + self._port + &#34; is not open. &#34;)
    # elif not self.is_stepper_num_valid(stepper_number):
    #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)
    # elif not self._is_initialized:
    #     return (False, &#34;Stepper motor &#34; + str(stepper_number) + &#34; is not initialized.&#34;)
    # else:
    # if not self.is_stepper_num_valid(stepper_number):
    #     return (False, &#34;Stepper number is not valid or not part of passed tuple during construction.&#34;)

    command = &#34;&gt;wm &#34; + str(stepper_number) + &#34;\n&#34;
    self.ser.write(command.encode(&#39;ascii&#39;))
    was_successful, comment = self.check_ack_succ()

    if not was_successful:
        return (was_successful, comment)

    has_position, position_str = super().parse_equal_sign(comment)

    if not has_position:
        return (has_position, &#34;Message from device did not contain motor position.&#34;)
    
    return (True, float(position_str))</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="Lab_Automation.devices.device.ArduinoSerialDevice" href="device.html#Lab_Automation.devices.device.ArduinoSerialDevice">ArduinoSerialDevice</a></b></code>:
<ul class="hlist">
<li><code><a title="Lab_Automation.devices.device.ArduinoSerialDevice.check_ack_succ" href="device.html#Lab_Automation.devices.device.ArduinoSerialDevice.check_ack_succ">check_ack_succ</a></code></li>
<li><code><a title="Lab_Automation.devices.device.ArduinoSerialDevice.check_response" href="device.html#Lab_Automation.devices.device.ArduinoSerialDevice.check_response">check_response</a></code></li>
<li><code><a title="Lab_Automation.devices.device.ArduinoSerialDevice.deinitialize" href="device.html#Lab_Automation.devices.device.Device.deinitialize">deinitialize</a></code></li>
<li><code><a title="Lab_Automation.devices.device.ArduinoSerialDevice.initialize" href="device.html#Lab_Automation.devices.device.Device.initialize">initialize</a></code></li>
<li><code><a title="Lab_Automation.devices.device.ArduinoSerialDevice.is_initialized" href="device.html#Lab_Automation.devices.device.Device.is_initialized">is_initialized</a></code></li>
<li><code><a title="Lab_Automation.devices.device.ArduinoSerialDevice.parse_equal_sign" href="device.html#Lab_Automation.devices.device.ArduinoSerialDevice.parse_equal_sign">parse_equal_sign</a></code></li>
<li><code><a title="Lab_Automation.devices.device.ArduinoSerialDevice.start_serial" href="device.html#Lab_Automation.devices.device.SerialDevice.start_serial">start_serial</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="Lab_Automation.devices" href="index.html">Lab_Automation.devices</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="Lab_Automation.devices.multi_stepper.check_stepper_num" href="#Lab_Automation.devices.multi_stepper.check_stepper_num">check_stepper_num</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="Lab_Automation.devices.multi_stepper.MultiStepper" href="#Lab_Automation.devices.multi_stepper.MultiStepper">MultiStepper</a></code></h4>
<ul class="">
<li><code><a title="Lab_Automation.devices.multi_stepper.MultiStepper.home" href="#Lab_Automation.devices.multi_stepper.MultiStepper.home">home</a></code></li>
<li><code><a title="Lab_Automation.devices.multi_stepper.MultiStepper.is_stepper_num_valid" href="#Lab_Automation.devices.multi_stepper.MultiStepper.is_stepper_num_valid">is_stepper_num_valid</a></code></li>
<li><code><a title="Lab_Automation.devices.multi_stepper.MultiStepper.move_absolute" href="#Lab_Automation.devices.multi_stepper.MultiStepper.move_absolute">move_absolute</a></code></li>
<li><code><a title="Lab_Automation.devices.multi_stepper.MultiStepper.move_relative" href="#Lab_Automation.devices.multi_stepper.MultiStepper.move_relative">move_relative</a></code></li>
<li><code><a title="Lab_Automation.devices.multi_stepper.MultiStepper.position" href="#Lab_Automation.devices.multi_stepper.MultiStepper.position">position</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>